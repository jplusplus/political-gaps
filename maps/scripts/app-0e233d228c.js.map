{"version":3,"sources":["/source/index.config.js"],"names":["angular","module","call","this","service","data","getTec","title","url","description","logo","directive","restrict","templateUrl","scope","creationDate","controllerAs","bindToController","MalarkeyController","linkFunc","$log","githubContributor","activate","getContributors","vm","then","info","contributors","el","attr","typist","watcher","malarkey","typeSpeed","deleteSpeed","pauseDelay","loop","postfix","addClass","forEach","extraValues","value","type","pause","$watch","contributor","login","$on","template","link","controller","factory","$http","apiHost","limit","getContributorsComplete","getContributorsFailed","response","error","toJson","get","alpha","nodes","NODE_RADIUS","d","cluster","l","r","x","y","clusters","Math","sqrt","radius","CLUSTER_PADDING","padding","quadtree","d3","geom","nx1","nx2","ny1","ny2","visit","quad","x1","y1","x2","y2","point","bind","fn","me","apply","arguments","topics","mainChart","topic","attrs","MainChart","forceTicked","countWithData","countNoData","count","createLegend","startSimulation","groupFrom","groups","buildPerson","scaleX","datum","force","getSizes","height","width","svg","append","legend","people","_this","prototype","_groups","summary","global","select","_width","_height","element","_force","forceSimulation","forceManyBody","strength","forceX","forceY","on","_datum","i","j","ref","results","total","push","max","min","length","scaleLinear","range","group","id","index","indexOf","class","k","slug","toLowerCase","join","_","chain","keys","filter","sortBy","order","memo","each","key","nodeEnter","selectAll","enter","merge","alphaTarget","restart","html","label","round","exit","remove","values","sum","legislatures","$state","$stateParams","legislature_id","$scope","MainController","uiOnParamsChanged","old","go","legislature_id_eq","legislature","changedParams","transition","run","debug","config","$stateProvider","$urlRouterProvider","otherwise","state","params","dynamic","resolve","countries","len","country","find","alpha2","display_name","name","completion","constant","gender","male","female","other","age_range","bellow-30","30-40","40-50","50-60","60-70","over-70","political_leaning","Left wing","Center-left (social democrat)","Green","Center (liberal)","Conservative","Far-right","Other","profession_category","Armed forces","Private sector professional","Civil servant","Farmer","Journalist, public relations","Lawyer","Manual worker, craftsman/woman","Medical doctor, dentist, optician","Miner","Teacher","University professor","Student","No occupation","$logProvider","RestangularProvider","debugEnabled","setBaseUrl","setRestangularFields","selfLink","$templateCache","put"],"mappings":"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","file":"scripts/app-0e233d228c.js","sourcesContent":["(function() {\n  angular.module('politicalGaps', ['ngAnimate', 'ngTouch', 'ngSanitize', 'ngMessages', 'ngAria', 'restangular', 'ui.router', 'ui.bootstrap']);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module('politicalGaps').service('webDevTec', function() {\n    'ngInject';\n    var data, getTec;\n    data = [\n      {\n        'title': 'AngularJS',\n        'url': 'https://angularjs.org/',\n        'description': 'HTML enhanced for web apps!',\n        'logo': 'angular.png'\n      }, {\n        'title': 'BrowserSync',\n        'url': 'http://browsersync.io/',\n        'description': 'Time-saving synchronised browser testing.',\n        'logo': 'browsersync.png'\n      }, {\n        'title': 'GulpJS',\n        'url': 'http://gulpjs.com/',\n        'description': 'The streaming build system.',\n        'logo': 'gulp.png'\n      }, {\n        'title': 'Jasmine',\n        'url': 'http://jasmine.github.io/',\n        'description': 'Behavior-Driven JavaScript.',\n        'logo': 'jasmine.png'\n      }, {\n        'title': 'Karma',\n        'url': 'http://karma-runner.github.io/',\n        'description': 'Spectacular Test Runner for JavaScript.',\n        'logo': 'karma.png'\n      }, {\n        'title': 'Protractor',\n        'url': 'https://github.com/angular/protractor',\n        'description': 'End to end test framework for AngularJS applications built on top of WebDriverJS.',\n        'logo': 'protractor.png'\n      }, {\n        'title': 'Bootstrap',\n        'url': 'http://getbootstrap.com/',\n        'description': 'Bootstrap is the most popular HTML, CSS, and JS framework for developing responsive, mobile first projects on the web.',\n        'logo': 'bootstrap.png'\n      }, {\n        'title': 'Angular UI Bootstrap',\n        'url': 'http://angular-ui.github.io/bootstrap/',\n        'description': 'Bootstrap components written in pure AngularJS by the AngularUI Team.',\n        'logo': 'ui-bootstrap.png'\n      }, {\n        'title': 'Sass (Node)',\n        'url': 'https://github.com/sass/node-sass',\n        'description': 'Node.js binding to libsass, the C version of the popular stylesheet preprocessor, Sass.',\n        'logo': 'node-sass.png'\n      }, {\n        'title': 'CoffeeScript',\n        'url': 'http://coffeescript.org/',\n        'description': 'CoffeeScript, \\'a little language that compiles into JavaScript\\'.',\n        'logo': 'coffeescript.png'\n      }\n    ];\n    getTec = function() {\n      return data;\n    };\n    this.getTec = getTec;\n  });\n\n}).call(this);\n\n\n\n(function() {\n  angular.module('politicalGaps').directive('navbar', function() {\n    var directive;\n    return directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/navbar/navbar.html',\n      scope: {\n        creationDate: '='\n      },\n      controllerAs: 'vm',\n      bindToController: true\n    };\n  });\n\n}).call(this);\n\n\n\n(function() {\n  angular.module('politicalGaps').directive('acmeMalarkey', function() {\n    var MalarkeyController, directive, linkFunc;\n    MalarkeyController = function($log, githubContributor) {\n      'ngInject';\n      var activate, getContributors, vm;\n      vm = this;\n      activate = function() {\n        return getContributors().then(function() {\n          $log.info('Activated Contributors View');\n        });\n      };\n      getContributors = function() {\n        return githubContributor.getContributors(10).then(function(data) {\n          vm.contributors = data;\n          return vm.contributors;\n        });\n      };\n      vm.contributors = [];\n      activate();\n    };\n    linkFunc = function(scope, el, attr, vm) {\n      var typist, watcher;\n      watcher = void 0;\n      typist = malarkey(el[0], {\n        typeSpeed: 40,\n        deleteSpeed: 40,\n        pauseDelay: 800,\n        loop: true,\n        postfix: ' '\n      });\n      el.addClass('acme-malarkey');\n      angular.forEach(scope.extraValues, function(value) {\n        typist.type(value).pause()[\"delete\"]();\n      });\n      watcher = scope.$watch('vm.contributors', function() {\n        angular.forEach(vm.contributors, function(contributor) {\n          typist.type(contributor.login).pause()[\"delete\"]();\n        });\n      });\n      scope.$on('$destroy', function() {\n        watcher();\n      });\n    };\n    return directive = {\n      restrict: 'E',\n      scope: {\n        extraValues: '='\n      },\n      template: '&nbsp;',\n      link: linkFunc,\n      controller: MalarkeyController,\n      controllerAs: 'vm'\n    };\n  });\n\n}).call(this);\n\n\n\n(function() {\n  angular.module('politicalGaps').factory('githubContributor', function($log, $http) {\n    'ngInject';\n    var apiHost, getContributors, service;\n    apiHost = 'https://api.github.com/repos/Swiip/generator-gulp-angular';\n    getContributors = function(limit) {\n      var getContributorsComplete, getContributorsFailed;\n      if (limit == null) {\n        limit = 30;\n      }\n      getContributorsComplete = function(response) {\n        return response.data;\n      };\n      getContributorsFailed = function(error) {\n        $log.error('XHR Failed for getContributors.\\n' + angular.toJson(error.data, true));\n      };\n      return $http.get(apiHost + '/contributors?per_page=' + limit).then(getContributorsComplete)[\"catch\"](getContributorsFailed);\n    };\n    return service = {\n      apiHost: apiHost,\n      getContributors: getContributors\n    };\n  });\n\n}).call(this);\n\n\n\n(function() {\n  angular.module('politicalGaps').service('cluster', function() {\n    return function(alpha, nodes, NODE_RADIUS) {\n      if (NODE_RADIUS == null) {\n        NODE_RADIUS = 10;\n      }\n      return function(d) {\n        var cluster, l, r, x, y;\n        cluster = clusters[d.cluster];\n        if (cluster === d) {\n          return;\n        }\n        x = d.x - cluster.x;\n        y = d.y - cluster.y;\n        l = Math.sqrt(x * x + y * y);\n        r = NODE_RADIUS + cluster.radius;\n        if (l !== r) {\n          l = (l - r) / l * alpha;\n          d.x -= x *= l;\n          return d.y -= y *= l;\n        }\n      };\n    };\n  }).service('collide', function() {\n    return function(alpha, nodes, CLUSTER_PADDING) {\n      var padding, quadtree;\n      if (CLUSTER_PADDING == null) {\n        CLUSTER_PADDING = 15;\n      }\n      padding = 2;\n      quadtree = d3.geom.quadtree(nodes);\n      return function(d) {\n        var nx1, nx2, ny1, ny2, r;\n        r = 10;\n        nx1 = d.x - r;\n        nx2 = d.x + r;\n        ny1 = d.y - r;\n        ny2 = d.y + r;\n        return quadtree.visit(function(quad, x1, y1, x2, y2) {\n          var l, x, y;\n          if (quad.point && quad.point !== d) {\n            x = d.x - quad.point.x;\n            y = d.y - quad.point.y;\n            l = Math.sqrt(x * x + y * y);\n            r = NODE_RADIUS + quad.point.radius + (d.cluster === quad.point.cluster ? padding : CLUSTER_PADDING);\n            if (l < r) {\n              l = (l - r) / l * alpha;\n              d.x -= x *= l;\n              d.y -= y *= l;\n              quad.point.x += x;\n              quad.point.y += y;\n            }\n          }\n          return x1 > nx2 || x2 < nx1 || y1 > ny2 || y2 < ny1;\n        });\n      };\n    };\n  });\n\n}).call(this);\n\n\n\n(function() {\n  var bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\n  angular.module('politicalGaps').directive('mainChart', function(topics) {\n    'ngInject';\n    return {\n      scope: {\n        mainChart: '=',\n        topic: '='\n      },\n      link: function(scope, el, attrs) {\n        var MainChart;\n        return new (MainChart = (function() {\n          MainChart.prototype._groups = {};\n\n          MainChart.prototype.summary = scope.mainChart.global;\n\n          MainChart.prototype.el = d3.select(el[0]);\n\n          MainChart.prototype.width = function() {\n            return this._width = this._width || (function(_this) {\n              return function() {\n                return _this.getSizes()[0];\n              };\n            })(this)();\n          };\n\n          MainChart.prototype.height = function() {\n            return this._height = this._height || (function(_this) {\n              return function() {\n                return _this.getSizes()[1];\n              };\n            })(this)();\n          };\n\n          MainChart.prototype.getSizes = function() {\n            return [angular.element(el).width(), angular.element(el).height()];\n          };\n\n          MainChart.prototype.force = function() {\n            return this._force = this._force || (function(_this) {\n              return function() {\n                return d3.forceSimulation().force(\"charge\", d3.forceManyBody().strength(-1)).force(\"x\", d3.forceX(function(d) {\n                  return d().forceX();\n                })).force(\"y\", d3.forceY(function(d) {\n                  return d().forceY();\n                })).on(\"tick\", _this.forceTicked);\n              };\n            })(this)();\n          };\n\n          MainChart.prototype.datum = function() {\n            return this._datum = this._datum || (function(_this) {\n              return function() {\n                var i, j, ref, results;\n                results = [];\n                for (i = j = 0, ref = _this.summary.total - 1; 0 <= ref ? j <= ref : j >= ref; i = 0 <= ref ? ++j : --j) {\n                  results.push(_this.buildPerson(i));\n                }\n                return results;\n              };\n            })(this)();\n          };\n\n          MainChart.prototype.scaleX = function() {\n            var max, min;\n            min = this.width() / this.groups().length * .5;\n            max = this.width() - min;\n            return d3.scaleLinear().range([0, 1]).range([min, max]);\n          };\n\n          MainChart.prototype.buildPerson = function(i) {\n            return (function(_this) {\n              return function() {\n                var group;\n                group = _this.groupFrom(i);\n                return {\n                  group: group,\n                  id: i,\n                  forceY: function() {\n                    return _this.height() / 2;\n                  },\n                  forceX: function() {\n                    var index;\n                    if (group == null) {\n                      return _this.scaleX()(1);\n                    }\n                    index = _this.groups().indexOf(_this.groupFrom(i));\n                    return _this.scaleX()(index / (_this.groups().length - 1));\n                  },\n                  \"class\": function() {\n                    var index, k;\n                    k = [\"main__chart__people__node\", \"main__chart__people__node\"];\n                    if (group != null) {\n                      index = _this.groups().indexOf(_this.groupFrom(i));\n                      k.push(\"main__chart__people__node--\" + (slug(group.toLowerCase())));\n                      k.push(\"main__chart__people__node--\" + index);\n                    } else {\n                      k.push(\"main__chart__people__node--no-data\");\n                    }\n                    return k.join(\" \");\n                  }\n                };\n              };\n            })(this);\n          };\n\n          MainChart.prototype.groups = function(topic) {\n            if (topic == null) {\n              topic = scope.topic;\n            }\n            return this._groups[topic] = this._groups[topic] || (function(_this) {\n              return function() {\n                var groups;\n                groups = _.chain(_this.summary[topic]).keys().filter(function(d) {\n                  return _this.count(d) > 0;\n                }).sortBy(function(d) {\n                  var ref;\n                  return ((ref = topics[topic].groups[d]) != null ? ref.order : void 0) || _this.summary[topic][d];\n                }).value();\n                if (_this.countNoData() > 0) {\n                  groups.push('No data');\n                }\n                return groups;\n              };\n            })(this)();\n          };\n\n          MainChart.prototype.groupFrom = function(i, topic) {\n            var group, memo;\n            if (topic == null) {\n              topic = scope.topic;\n            }\n            memo = 0;\n            group = null;\n            _.each(this.groups(topic), (function(_this) {\n              return function(key) {\n                if (i >= memo && i < memo + _this.summary[topic][key]) {\n                  group = key;\n                }\n                return memo += _this.summary[topic][key];\n              };\n            })(this));\n            return group;\n          };\n\n          MainChart.prototype.startSimulation = function() {\n            var nodeEnter;\n            this.nodes = this.people.selectAll('.main__chart__people__node').data(this.datum(), function(d) {\n              return d().id;\n            }).attr(\"class\", function(d) {\n              return d()[\"class\"]();\n            });\n            nodeEnter = this.nodes.enter().append(\"circle\").attr(\"r\", 3).attr(\"class\", function(d) {\n              return d()[\"class\"]();\n            });\n            this.nodes = nodeEnter.merge(this.nodes);\n            this.force().nodes(this.datum());\n            return this.force().alphaTarget(2).restart();\n          };\n\n          MainChart.prototype.createLegend = function() {\n            var groups;\n            groups = this.legend.selectAll('.main__chart__legend__group').data(this.groups());\n            groups.enter().append('div').attr('class', 'main__chart__legend__group').merge(groups).html((function(_this) {\n              return function(d) {\n                var ref;\n                return ['<div>' + (((ref = topics[scope.topic].groups[d]) != null ? ref.label : void 0) || d) + '</div>', Math.round(10000 * _this.count(d) / _this.summary.total) / 100 + '%'].join(\"\");\n              };\n            })(this));\n            return groups.exit().remove();\n          };\n\n          MainChart.prototype.count = function(group) {\n            return this.summary[scope.topic][group] || this.countNoData();\n          };\n\n          MainChart.prototype.countNoData = function() {\n            return this.summary.total - this.countWithData();\n          };\n\n          MainChart.prototype.countWithData = function() {\n            return _.chain(this.summary[scope.topic]).values().sum().value();\n          };\n\n          MainChart.prototype.forceTicked = function() {\n            return this.nodes.attr(\"transform\", function(d) {\n              return \"translate(\" + d.x + \", \" + d.y + \")\";\n            });\n          };\n\n          function MainChart() {\n            this.forceTicked = bind(this.forceTicked, this);\n            this.countWithData = bind(this.countWithData, this);\n            this.countNoData = bind(this.countNoData, this);\n            this.count = bind(this.count, this);\n            this.createLegend = bind(this.createLegend, this);\n            this.startSimulation = bind(this.startSimulation, this);\n            this.groupFrom = bind(this.groupFrom, this);\n            this.groups = bind(this.groups, this);\n            this.buildPerson = bind(this.buildPerson, this);\n            this.scaleX = bind(this.scaleX, this);\n            this.datum = bind(this.datum, this);\n            this.force = bind(this.force, this);\n            this.getSizes = bind(this.getSizes, this);\n            this.height = bind(this.height, this);\n            this.width = bind(this.width, this);\n            this.svg = this.el.append(\"svg\");\n            this.legend = this.el.append(\"div\").attr(\"class\", \"main__chart__legend\");\n            this.people = this.svg.append(\"g\").attr(\"class\", \"main__chart__people\");\n            scope.$watch('topic', (function(_this) {\n              return function() {\n                return _this.startSimulation() && _this.createLegend();\n              };\n            })(this));\n          }\n\n          return MainChart;\n\n        })());\n      }\n    };\n  });\n\n}).call(this);\n\n\n\n(function() {\n  var bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\n  angular.module('politicalGaps').controller('MainController', function(summary, legislatures, $state, $stateParams, legislature_id, $scope) {\n    'ngInject';\n    var MainController;\n    return new (MainController = (function() {\n      MainController.prototype.summary = summary;\n\n      MainController.prototype.legislatures = legislatures;\n\n      MainController.prototype.legislature = legislature_id * 1;\n\n      MainController.prototype.topic = $stateParams.topic;\n\n      MainController.prototype.uiOnParamsChanged = function(changedParams, transition) {\n        return this.topic = changedParams.topic;\n      };\n\n      function MainController() {\n        this.uiOnParamsChanged = bind(this.uiOnParamsChanged, this);\n        $scope.$watch('main.legislature', function(id, old) {\n          if (id !== old) {\n            return $state.go('main', {\n              legislature_id_eq: id\n            });\n          }\n        });\n      }\n\n      return MainController;\n\n    })());\n  });\n\n}).call(this);\n\n\n\n(function() {\n  angular.module('politicalGaps').run(function($log) {\n    'ngInject';\n    return $log.debug('runBlock end');\n  });\n\n}).call(this);\n\n\n\n(function() {\n  angular.module('politicalGaps').config(function($stateProvider, $urlRouterProvider) {\n    'ngInject';\n    $urlRouterProvider.otherwise('/');\n    return $stateProvider.state('main', {\n      url: '/:legislature_id_eq',\n      templateUrl: 'app/main/main.html',\n      controller: 'MainController',\n      controllerAs: 'main',\n      params: {\n        legislature_id_eq: {\n          value: null\n        },\n        topic: {\n          dynamic: true,\n          value: 'gender'\n        }\n      },\n      resolve: {\n        countries: function($http) {\n          'ngInject';\n          return $http.get('data/countries.json').then(function(r) {\n            return r.data;\n          });\n        },\n        legislatures: function($http, countries) {\n          'ngInject';\n          return $http.get('data/legislatures.json').then(function(r) {\n            var i, legislature, len, ref;\n            ref = r.data;\n            for (i = 0, len = ref.length; i < len; i++) {\n              legislature = ref[i];\n              legislature.country = _.find(countries, {\n                alpha2: legislature.country\n              });\n              legislature.display_name = legislature.name;\n              legislature.display_name += ' - ';\n              legislature.display_name += 'Completed at ';\n              legislature.display_name += ~~(legislature.completion * 1000) / 10;\n              legislature.display_name += '%';\n            }\n            return r.data;\n          });\n        },\n        legislature_id: function($stateParams, legislatures) {\n          'ngInject';\n          return $stateParams.legislature_id_eq || legislatures[0].id;\n        },\n        summary: function($http, legislature_id) {\n          'ngInject';\n          return $http.get('data/summary-' + legislature_id + '.json').then(function(r) {\n            return r.data;\n          });\n        }\n      }\n    });\n  });\n\n}).call(this);\n\n\n\n(function() {\n  angular.module('politicalGaps').constant('topics', {\n    gender: {\n      groups: {\n        male: {\n          label: \"Male\"\n        },\n        female: {\n          label: \"Female\"\n        },\n        other: {\n          label: \"Other\"\n        }\n      }\n    },\n    age_range: {\n      groups: {\n        'bellow-30': {\n          label: 'Bellow 30',\n          order: 0\n        },\n        '30-40': {\n          label: '30 to 40',\n          order: 1\n        },\n        '40-50': {\n          label: '40 to 50',\n          order: 2\n        },\n        '50-60': {\n          label: '50 to 60',\n          order: 3\n        },\n        '60-70': {\n          label: '60 to 70',\n          order: 4\n        },\n        'over-70': {\n          label: 'Over 70',\n          order: 5\n        }\n      }\n    },\n    political_leaning: {\n      groups: {\n        'Left wing': {},\n        'Center-left (social democrat)': {},\n        'Green': {},\n        'Center (liberal)': {},\n        'Conservative': {},\n        'Far-right': {},\n        'Other': {}\n      }\n    },\n    profession_category: {\n      groups: {\n        'Armed forces': {},\n        'Private sector professional': {},\n        'Civil servant': {},\n        'Farmer': {},\n        'Journalist, public relations': {},\n        'Lawyer': {},\n        'Manual worker, craftsman/woman': {},\n        'Medical doctor, dentist, optician': {},\n        'Miner': {},\n        'Teacher': {},\n        'University professor': {},\n        'Student': {},\n        'No occupation': {},\n        'Other': {}\n      }\n    }\n  });\n\n}).call(this);\n\n\n\n(function() {\n  angular.module('politicalGaps').config(function($logProvider, RestangularProvider) {\n    'ngInject';\n    $logProvider.debugEnabled(true);\n    RestangularProvider.setBaseUrl('http://www.jquestapp.com/political-gaps/api/v1/');\n    return RestangularProvider.setRestangularFields({\n      selfLink: '@id'\n    });\n  });\n\n}).call(this);\n\n\n\nangular.module(\"politicalGaps\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/main/main.html\",\"<div class=main><div class=\\\"text-center main__heading\\\"><h2 class=main__heading__title>Political Gaps</h2><p class=main__heading__title__description>How representative are our representatives?</p><form class=\\\"main__heading__legislatures form-inline\\\"><label>Diversity report for<select class=form-control ng-options=\\\"legislature.id as legislature.display_name group by legislature.country.name for legislature in main.legislatures\\\" ng-model=main.legislature></select></label></form><br><ul class=\\\"nav nav-pills main__heading__tabs\\\"><li class=nav-item><a class=nav-link ui-sref=\\\"main({topic: \\'gender\\'})\\\" ui-sref-active=active>Gender</a></li><li class=nav-item><a class=nav-link ui-sref=\\\"main({topic: \\'age_range\\'})\\\" ui-sref-active=active>Age</a></li><li class=nav-item><a class=nav-link ui-sref=\\\"main({topic: \\'profession_category\\'})\\\" ui-sref-active=active>Occupation</a></li><li class=nav-item><a class=nav-link ui-sref=\\\"main({topic: \\'political_leaning\\'})\\\" ui-sref-active=active>Political leaning</a></li></ul></div><div class=\\\"main__chart main__chart--{{ main.topic }}\\\" ui-view main-chart=main.summary topic=main.topic></div></div>\");}]);"],"sourceRoot":"/source/"}